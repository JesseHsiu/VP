<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>VP_Panel</title>
</head>
<body>
	<!-- VP Panel -->
    <div data-role="page" id="VP_Panel">
        <div data-role="header">
            <a href="userpanel.html" data-transition="slidedown" class="ui-btn-left ui-btn ui-btn-inline ui-corner-all ui-btn-icon-left ui-icon-carat-l">Back</a>
            <h1 style="font-size:50px; margin:0px;">請選擇測驗</h1>
        </div>
        <div class="container-fluid" data-role="content">
            <!-- <fieldset id="select2" class="VP_select ui-grid-b ui-responsive"> -->
            <div class="row VPPanel_row" >
                <div class="col-sm-3 col-sm-offset-2"><a id="VD" href="VP_1_intro.html" class="test_class ui-btn ui-corner-all"><p class="VP_Panel_link">視覺區辨</p></a>
                </div>
                <div class="col-sm-3"><a id="VM" href="VM_intro.html" class="test_class ui-btn ui-corner-all"><p class="VP_Panel_link">視覺記憶</p></a>
                </div>
                <div class="col-sm-3"><a id="SR" href="SR_intro.html" class="test_class ui-btn ui-corner-all"><p class="VP_Panel_link">空間概念</p></a>
                </div>
            </div>
            <!-- </fieldset> -->
            <!-- <fieldset id="select3" class="VP_select ui-grid-c ui-responsive"> -->
            <div class="row VPPanel_row">
                <div class="col-sm-3 col-sm-offset-2"><a id="FC" href="FC_intro.html" class="test_class ui-btn ui-corner-all "><p class="VP_Panel_link">形狀恆常</p></a>
                </div>
                <div class="col-sm-3"><a id="FG" href="FG_intro.html" class="test_class ui-btn ui-corner-all"><p class="VP_Panel_link">前景背景</p></a>
                </div>
                <div class="col-sm-3"><a id="VC" href="VC_intro.html" class="test_class ui-btn ui-corner-all"><p class="VP_Panel_link">視覺完形</p></a>
                </div>
            </div>
            <!-- </fieldset> -->
        </div>
        <script type="text/javascript">
            $('#VP_Panel').on("pageshow",function(){
                var flag = true;
                $(".test_class").each(function(index, el) {
                    var tmp_String = $(this).attr('id').toString();
                    console.log(tmp_String+":"+ app.Tests_finished[tmp_String]);
                    if (app.Tests_finished[tmp_String] === true)
                    {
                        $(this).addClass("ui-state-disabled");
                    }
                    else
                    {
                        flag =false;
                    }
                });
                if (flag)
                {
                    app.Tests_finished.VP = true;
                    app.thingstowrite = app.current_userinfo.id+","+app.VP_list.VD.score+","+app.VP_list.VD.time+","+app.VP_list.VM.score+","+app.VP_list.VM.time+","+app.VP_list.SR.score+","+app.VP_list.SR.time+","+app.VP_list.FC.score+","+app.VP_list.FC.time+","+app.VP_list.FG.score+","+app.VP_list.FG.time+","+app.VP_list.FG2.score+","+app.VP_list.FG2.score+","+app.VP_list.VC.score+","+app.VP_list.VC.time+"\n";
                    console.log(app.thingstowrite);
                    app.VP_list_Writer.createWriter(app.VP_ALLWriter, app.onFSError);
                    //console.log(app.VP_list);
                }
                else
                {
                    //console.log(app.VP_list);
                }
            });
        </script>
        <link rel="stylesheet" type="text/css" href="css/index.css" />
    </div>
    <!-- VP Panel end-->
</body>
</html>